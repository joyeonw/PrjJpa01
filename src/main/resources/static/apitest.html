<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<h2>Articles API tester</h2>
	<fieldset>
	<label>아이디</label>
	<input type="number" id="id" value="1" /> <br>
	<label>제목</label>
	<input type="text" id="title" /> <br>
	<label>내용</label>
	<textarea rows="3" id="content"></textarea><br>
	</fieldset>
	<div id="output"></div>
	<ul>

		<li><a id="get" href="/Api/Articles">Article 목록 조회(get)</a></li>
		<li><a id="getOne" href="/Api/Articles/1">1번 Article 목록 조회(get)</a></li>
		<li><a id="post" href="/Api/Articles/1">1번 Article 목록 조회(get)</a></li>
	</ul>
	
	<script>
		const outputEl = document.querySelector('#output') 
		const aElList = document.querySelectorAll('a') 
		aElList.forEach( (aEl, i) => {
			aEl.onclick  = (e) => {
// 					e.preventDefault	();
					
					switch( aEl.id ) {
					case "get" : 
						fetch(aEl.href)  //	==	fetch(aEl.href, { method:'GET'} ) 
							.then( (response) => response.json() )
							.then( (json) => {
									outputEl.innerHTML = json
							} )
							.catch( (error) => console.dir(error) )
						
						alert(aEl.id);
						break;
					
					case "getOne" : 
						const numId = document.querySelector('#id').value;
						fetch(aEl.href + "/" + numId)
							.then( (response) => response.json() )
							.then( (json) => {
									outputEl.innerHTML = json
							} )
							.catch( (error) => console.dir(error) )
						
						alert(aEl.id);
						break;
					
					case "post" : 
						const post = document.querySelector('#id').value;
						fetch(aEl.href + "/" + numId)
							.then( (response) => response.json() )
							.then( (json) => {
									outputEl.innerHTML = json
							} )
							.catch( (error) => console.dir(error) )
						
						alert(aEl.id);
						break;
			        }
		    };
});
	</script>
</body>
</html>